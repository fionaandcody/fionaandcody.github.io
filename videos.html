<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiona & Cody | Videos</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #d4b8c7;
            --secondary-color: #f8f5f7;
            --accent-color: #9d7989;
            --text-color: #4a4a4a;
            --light-text: #ffffff;
            --dark-overlay: rgba(0, 0, 0, 0.5);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        /* Header */
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        header.scrolled {
            padding: 10px 0;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            font-weight: 500;
            color: var(--accent-color);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 400;
            font-size: 0.95rem;
            position: relative;
            transition: color 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--accent-color);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-color);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--accent-color);
            cursor: pointer;
        }
        
        /* Page Header */
        .page-header {
            background-image: url('Wedding/DroneShot.jpeg');
            background-size: cover;
            background-position: center;
            height: 50vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            color: white;
            text-align: center;
            margin-bottom: 50px;
        }
        
        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        .page-header-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            padding: 0 20px;
        }
        
        .page-header h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem;
            font-weight: 500;
            margin-bottom: 20px;
        }
        
        .page-header p {
            font-size: 1.2rem;
            font-weight: 300;
        }
        
        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto 80px;
            padding: 0 20px;
        }
        
        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            color: var(--accent-color);
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* Filter Controls */
        .filter-controls {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .filter-btn {
            background-color: transparent;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            padding: 8px 20px;
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn:hover, .filter-btn.active {
            background-color: var(--accent-color);
            color: white;
        }
        
        /* Video Gallery */
        .video-gallery {
            display: grid; /* Change from 'none' to 'grid' */
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .video-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .video-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .video-thumbnail {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .video-card:hover .video-thumbnail img {
            transform: scale(1.1);
        }
        
        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .video-play-btn i {
            color: var(--accent-color);
            font-size: 1.5rem;
            margin-left: 5px; /* Offset for play icon */
        }
        
        .video-card:hover .video-play-btn {
            background-color: var(--accent-color);
        }
        
        .video-card:hover .video-play-btn i {
            color: white;
        }
        
        .video-info {
            padding: 20px;
        }
        
        .video-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--accent-color);
        }
        
        .video-description {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 15px;
        }
        
        .video-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #999;
        }
        
        .video-category {
            display: inline-block;
            background-color: var(--secondary-color);
            padding: 3px 10px;
            border-radius: 15px;
        }
        
        /* Featured Video */
        .featured-video {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 60px;
        }
        
        .featured-video-player {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
        }
        
        .featured-video-player iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .featured-video-info {
            padding: 30px;
        }
        
        .featured-video-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--accent-color);
        }
        
        .featured-video-description {
            font-size: 1rem;
            color: #777;
            margin-bottom: 20px;
        }
        
        .featured-video-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #999;
        }
        
        /* Upload Section */
        .upload-section {
            display: none;  /* Hide upload section */
            background-color: white;
            padding: 50px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-top: 80px;
            text-align: center;
        }
        
        .upload-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            color: var(--accent-color);
            margin-bottom: 20px;
        }
        
        .upload-description {
            max-width: 600px;
            margin: 0 auto 30px;
            font-size: 0.95rem;
            color: #777;
        }
        
        .upload-area {
            border: 2px dashed var(--primary-color);
            border-radius: 10px;
            padding: 40px 20px;
            margin-bottom: 30px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .upload-area:hover {
            background-color: var(--secondary-color);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .upload-text {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .upload-subtext {
            font-size: 0.85rem;
            color: #777;
        }
        
        .upload-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .upload-btn {
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        /* Footer */
        footer {
            background-color: #333;
            color: white;
            padding: 40px 20px;
            text-align: center;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .footer-text {
            margin-bottom: 30px;
            font-weight: 300;
            font-size: 0.9rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--primary-color);
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            background-color: var(--primary-color);
            transform: translateY(-5px);
        }
        
        .copyright {
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        /* Video Modal */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .video-modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .video-modal-content {
            position: relative;
            width: 90%;
            max-width: 900px;
        }
        
        .video-modal-player {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            background-color: black;
        }
        
        .video-modal-player iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .video-modal-close:hover {
            color: var(--primary-color);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                padding: 15px 20px;
            }
            
            .nav-links {
                position: fixed;
                top: 0;
                right: -300px;
                width: 250px;
                height: 100vh;
                background-color: white;
                flex-direction: column;
                padding: 80px 20px 20px;
                gap: 20px;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
                transition: right 0.3s ease;
                z-index: 999;
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .mobile-menu-btn {
                display: block;
                z-index: 1000;
            }
            
            .page-header h1 {
                font-size: 2.5rem;
            }
            
            .page-header p {
                font-size: 1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .video-gallery {
                grid-template-columns: 1fr;
            }
            
            .featured-video-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header id="header">
        <div class="header-container">
            <a href="home.html" class="logo">Fiona & Cody</a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav class="nav-links" id="navLinks">
                <a href="home.html?auth=true">Home</a>
                <a href="photos.html?auth=true">Photos</a>
                <a href="videos.html?auth=true" class="active">Videos</a>
                <a href="Vacations/?auth=true">Vacations</a>
                <a href="honeymoon.html?auth=true">Honeymoon</a>
                <a href="index.html">Logout</a>
            </nav>
        </div>
    </header>

    <section class="page-header">
        <div class="page-header-content">
            <h1>Wedding Videos</h1>
            <p>Relive the magic of our special day through these beautiful moments</p>
        </div>
    </section>

    <main class="main-content">
        <section id="featured-video">
            <h2 class="section-title">Wedding Highlight Film</h2>
            
            <div class="featured-video">
                <div class="featured-video-player">
                    <!-- Replace with your actual wedding video embed code -->
                    <iframe src="https://player.vimeo.com/video/894014279?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" title="Wedding Highlight Film" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                
                <div class="featured-video-info">
                    <h3 class="featured-video-title">Our Wedding Day Highlights</h3>
                    <p class="featured-video-description">A beautiful compilation of the most magical moments from our wedding day. From getting ready in the morning to our first dance as husband and wife, this video captures the essence of our special day.</p>
                    
                    <div class="featured-video-meta">
                        <span>Duration: 4:13</span>
                        <span>Filmed by: KMC Studios</span>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="video-gallery">
            <h2 class="section-title">Video Collection</h2>
            
            <div class="filter-controls">
                <button class="filter-btn active" data-filter="all">All Videos</button>
                <button class="filter-btn" data-filter="ceremony">Ceremony</button>
                <button class="filter-btn" data-filter="reception">Reception</button>
                <button class="filter-btn" data-filter="speeches">Speeches</button>
                <button class="filter-btn" data-filter="dance">First Dance</button>
            </div>
            
            <div class="video-gallery" id="videoGallery">
                <!-- Videos will be loaded here via JavaScript -->
            </div>
        </section>
        
        <section class="upload-section">
            <h2 class="upload-title">Share Your Videos</h2>
            <p class="upload-description">Did you capture some special moments at our wedding? We'd love to see them! Upload your videos to add them to our collection.</p>
            
            <div class="upload-area" id="uploadArea">
                <i class="fas fa-film upload-icon"></i>
                <p class="upload-text">Drag & Drop Videos Here</p>
                <p class="upload-subtext">or click to browse your files</p>
                <label for="videoUpload" class="sr-only">Upload videos</label>
                <input type="file" class="upload-input" id="videoUpload" multiple accept="video/*" title="Upload videos">
            </div>
            
            <button class="upload-btn" id="uploadBtn">Upload Videos</button>
        </section>
    </main>
    
    <footer>
        <div class="footer-content">
            <div class="footer-logo">Fiona & Cody</div>
            <p class="footer-text">Thank you for visiting our wedding memories website.</p>
            
            <div class="footer-links">
                <a href="home.html?auth=true">Home</a>
                <a href="photos.html?auth=true">Photos</a>
                <a href="videos.html?auth=true">Videos</a>
                <a href="Vacations/?auth=true">Vacations</a>
                <a href="honeymoon.html?auth=true">Honeymoon</a>
            </div>
            
            <div class="social-icons"style="display: none;">
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-pinterest-p"></i></a>
            </div>
            
            <p class="copyright">&copy; 2023 Our Wedding Memories. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- Video Modal -->
    <div class="video-modal" id="videoModal">
        <div class="video-modal-content">
            <div class="video-modal-player" id="videoModalPlayer">
                <!-- Video iframe will be inserted here -->
            </div>
            <div class="video-modal-close" id="videoModalClose"><i class="fas fa-times"></i></div>
        </div>
    </div>

    <script>
        // Add this navigation function
        function navigateTo(page, options = {}) {
            let url = page + '.html';
            if (options.auth) {
                url += '?auth=true';
            }
            window.location.href = url;
        }
        
        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.getElementById('navLinks');
        
        mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            
            // Change icon based on menu state
            const icon = mobileMenuBtn.querySelector('i');
            if (navLinks.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });
        
        // Close menu when clicking a link (mobile)
        const navLinksItems = navLinks.querySelectorAll('a');
        navLinksItems.forEach(link => {
            link.addEventListener('click', () => {
                if (navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    const icon = mobileMenuBtn.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });
        });
        
        // Header scroll effect
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // Sample video data
        const videos = [
            {
                id: 1,
                title: 'Wedding Ceremony',
                description: 'Full recording of our beautiful ceremony.',
                thumbnail: 'https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '42:18',
                category: 'ceremony',
                date: '2023-06-15'
            },
            {
                id: 2,
                title: 'First Dance',
                description: 'Our magical first dance as husband and wife.',
                thumbnail: 'https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '4:32',
                category: 'dance',
                date: '2023-06-15'
            },
            {
                id: 3,
                title: 'Best Man Speech',
                description: 'Hilarious and heartfelt speech from the best man.',
                thumbnail: 'https://images.unsplash.com/photo-1532712938310-34cb3982ef74?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '8:45',
                category: 'speeches',
                date: '2023-06-15'
            },
            {
                id: 4,
                title: 'Maid of Honor Speech',
                description: 'Beautiful speech from the maid of honor.',
                thumbnail: 'https://images.unsplash.com/photo-1537633552985-df8429e8048b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '7:12',
                category: 'speeches',
                date: '2023-06-15'
            },
            {
                id: 5,
                title: 'Reception Entrance',
                description: 'Our grand entrance to the reception.',
                thumbnail: 'https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '3:24',
                category: 'reception',
                date: '2023-06-15'
            },
            {
                id: 6,
                title: 'Cake Cutting',
                description: 'The traditional cake cutting ceremony.',
                thumbnail: 'https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                embedUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '2:18',
                category: 'reception',
                date: '2023-06-15'
            }
        ];
        
        // Function to render videos
        function renderVideos(filter = 'all') {
            const videoGallery = document.getElementById('videoGallery');
            videoGallery.innerHTML = '';
            
            // Filter videos
            let filteredVideos = videos;
            if (filter !== 'all') {
                filteredVideos = videos.filter(video => video.category === filter);
            }
            
            // Render videos
            filteredVideos.forEach(video => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.dataset.id = video.id;
                videoCard.dataset.category = video.category;
                
                videoCard.innerHTML = `
                    <div class="video-thumbnail">
                        <img src="${video.thumbnail}" alt="${video.title}">
                        <div class="video-play-btn" data-id="${video.id}">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">${video.title}</h3>
                        <p class="video-description">${video.description}</p>
                        <div class="video-meta">
                            <span>${video.duration}</span>
                            <span class="video-category">${video.category}</span>
                        </div>
                    </div>
                `;
                
                videoGallery.appendChild(videoCard);
            });
            
            // Add event listeners to play buttons
            const playButtons = document.querySelectorAll('.video-play-btn');
            playButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const videoId = parseInt(btn.dataset.id);
                    openVideoModal(videoId);
                });
            });
        }
        
        // Initial render
        renderVideos();
        
        // Filter buttons functionality
        const filterBtns = document.querySelectorAll('.filter-btn');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Update active button
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Update filter and render videos
                const filter = btn.dataset.filter;
                renderVideos(filter);
            });
        });
        
        // Video Modal functionality
        const videoModal = document.getElementById('videoModal');
        const videoModalPlayer = document.getElementById('videoModalPlayer');
        const videoModalClose = document.getElementById('videoModalClose');
        
        function openVideoModal(videoId) {
            const video = videos.find(v => v.id === videoId);
            
            videoModalPlayer.innerHTML = `
                <iframe src="${video.embedUrl}" title="${video.title}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            `;
            
            videoModal.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
        }
        
        function closeVideoModal() {
            videoModal.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
            
            // Stop video playback by removing iframe
            setTimeout(() => {
                videoModalPlayer.innerHTML = '';
            }, 300);
        }
        
        videoModalClose.addEventListener('click', closeVideoModal);
        
        // Close modal when clicking outside the content
        videoModal.addEventListener('click', (e) => {
            if (e.target === videoModal) {
                closeVideoModal();
            }
        });
        
        // Keyboard navigation for modal
        document.addEventListener('keydown', (e) => {
            if (!videoModal.classList.contains('active')) return;
            
            if (e.key === 'Escape') {
                closeVideoModal();
            }
        });
        
        // File Upload Functionality
        const uploadArea = document.getElementById('uploadArea');
        const videoUpload = document.getElementById('videoUpload');
        const uploadBtn = document.getElementById('uploadBtn');
        
        // Highlight drop area when dragging files over it
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = var(--secondary-color);
            uploadArea.style.borderColor = var(--accent-color);
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.backgroundColor = '';
            uploadArea.style.borderColor = '';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = '';
            uploadArea.style.borderColor = '';
            
            const files = e.dataTransfer.files;
            videoUpload.files = files;
            handleFileUpload(files);
        });
        
        videoUpload.addEventListener('change', () => {
            handleFileUpload(videoUpload.files);
        });
        
        uploadBtn.addEventListener('click', () => {
            if (videoUpload.files.length > 0) {
                handleFileUpload(videoUpload.files);
            } else {
                videoUpload.click();
            }
        });
        
        function handleFileUpload(files) {
            // In a real application, you would upload these files to a server
            // For this demo, we'll just show a success message
            
            if (files.length === 0) return;
            
            // Show loading state
            uploadBtn.textContent = 'Uploading...';
            uploadBtn.disabled = true;
            
            // Simulate upload delay
            setTimeout(() => {
                // Reset upload form
                videoUpload.value = '';
                uploadBtn.textContent = 'Upload Videos';
                uploadBtn.disabled = false;
                
                // Show success message
                alert(`${files.length} video(s) uploaded successfully! They will be processed and added to the gallery soon.`);
            }, 2000);
        }
        
        // Check if user is authenticated
        function checkAuth() {
            // In a real application, you would implement proper session management
            // For this demo, we'll use a simple check
            const params = new URLSearchParams(window.location.search);
            if (!params.has('auth')) {
                // Redirect to login page if not authenticated
                window.location.href = 'index.html';
            }
        }
        
        // Call checkAuth on page load
        checkAuth();
        
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            const params = new URLSearchParams(window.location.search);
            if (!params.has('auth')) {
                window.location.href = 'index.html';
                return;
            }

            // Show video gallery
            document.getElementById('video-gallery').style.display = 'block';
            
            // Initial render of videos
            try {
                renderVideos();
            } catch (error) {
                console.error('Error rendering videos:', error);
                alert('There was an error loading the videos. Please try refreshing the page.');
            }
        });
    </script>
</body>
</html>